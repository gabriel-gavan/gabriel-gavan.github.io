<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title data-i18n="art5_title">How Game Engines Use Canvas Rendering Loops</title>

    <style>
        body {
            background:
                linear-gradient(135deg, rgba(0,0,0,0.82), rgba(15,23,42,0.92)),
                url("images/hub-bg.jpg") center center / cover no-repeat fixed;
            color: #e5e7eb;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.7;
        }

        h1, h2 { color:#38bdf8; font-weight:700; }
        a { color:#38bdf8; }

        .breadcrumb { margin-bottom:20px; font-size:14px; }
        .breadcrumb a { color:#94a3b8; text-decoration:none; }
        .breadcrumb span { color:#64748b; }

        .comments-section textarea {
            background:#0f172a; border:1px solid #334155;
            color:white; padding:10px; border-radius:8px;
        }
        .comments-section button {
            background:#1e40af; border:none; padding:10px 16px;
            color:white; border-radius:6px; cursor:pointer;
        }
        .comments-section button:hover { background:#1e3a8a; }
    </style>
</head>

<body>

    <!-- BREADCRUMB -->
    <div class="breadcrumb">
        <a href="index.html" data-i18n="breadcrumb_home">Home</a> <span>â€º</span>
        <a href="articles.html" data-i18n="breadcrumb_articles">Articles</a> <span>â€º</span>
        <span data-i18n="art5_breadcrumb">How Game Engines Use Rendering Loops</span>
    </div>

    <!-- BACK TO HUB -->
    <a id="backToHub" href="index.html"
       data-i18n="back_to_hub"
       style="
         color:#38bdf8;
         font-size:14px;
         text-decoration:none;
         font-weight:700;
         padding:4px 10px;
         border:1px solid #38bdf8;
         border-radius:8px;
         box-shadow:0 0 10px rgba(56,189,248,0.45);
         display:inline-block;
         margin-top:14px;">
      â¬… Back to Hub
    </a>

    <!-- TITLE -->
    <h1 data-i18n="art5_title_h1">How Game Engines Use Canvas Rendering Loops</h1>

    <p data-i18n="art5_intro_1">
        Every real-time game runs on a render loop that updates visuals, input, physics, and drawing.
    </p>

    <p data-i18n="art5_intro_2">
        This article explains how rendering loops work and how neon-style games maintain smooth performance.
    </p>

    <h2 data-i18n="art5_h2_1">1. requestAnimationFrame â€” The Heart of the Loop</h2>

    <p data-i18n="art5_p1">
        requestAnimationFrame synchronizes frames with monitor refresh rates and saves CPU.
    </p>

<pre style="background:#0f172a;padding:14px;border-radius:8px;border:1px solid #334155;">
function loop() {
    update();
    render();
    requestAnimationFrame(loop);
}
loop();
</pre>

    <p data-i18n="art5_p2">This ensures:</p>

    <ul>
        <li data-i18n="art5_li1_1">Optimal FPS</li>
        <li data-i18n="art5_li1_2">Lower CPU/GPU usage</li>
        <li data-i18n="art5_li1_3">Smooth animations</li>
    </ul>

    <h2 data-i18n="art5_h2_2">2. The Update â†’ Render Model</h2>

    <p data-i18n="art5_p3">Every frame has two phases:</p>

    <ul>
        <li data-i18n="art5_li2_1"><strong>Update</strong> â€” physics, inputs, AI</li>
        <li data-i18n="art5_li2_2"><strong>Render</strong> â€” drawing the frame</li>
    </ul>

    <p data-i18n="art5_p4">Keeping them separate boosts performance.</p>

    <h2 data-i18n="art5_h2_3">3. Clearing & Drawing Efficiently</h2>

    <p data-i18n="art5_p5">Games optimize draw calls using different strategies:</p>

    <ul>
        <li data-i18n="art5_li3_1">Full canvas clears</li>
        <li data-i18n="art5_li3_2">Dirty rectangles</li>
        <li data-i18n="art5_li3_3">Layered canvases</li>
    </ul>

    <h2 data-i18n="art5_h2_4">4. Timing, Delta Frames & Game Speed</h2>

    <p data-i18n="art5_p6">Delta time ensures consistent speed even if FPS drops.</p>

<pre style="background:#0f172a;padding:14px;border-radius:8px;border:1px solid #334155;">
let last = performance.now();
function loop(now) {
    const dt = (now - last) / 1000;
    last = now;
    update(dt);
    render();
    requestAnimationFrame(loop);
}
</pre>

    <h2 data-i18n="art5_h2_5">5. Why Neon Games Feel Extra Smooth</h2>

    <p data-i18n="art5_p7">
        Neon effects require high redraw rates, optimized particles, and efficient compositing.
    </p>

    <ul>
        <li data-i18n="art5_li4_1">High-frame glow effects</li>
        <li data-i18n="art5_li4_2">Motion-blur trails</li>
        <li data-i18n="art5_li4_3">Batch-rendered particles</li>
        <li data-i18n="art5_li4_4">Optimized overdraw</li>
    </ul>

    <h2 data-i18n="art5_h2_conclusion">Conclusion</h2>

    <p data-i18n="art5_conclusion">
        Clean loops, delta timing, and optimized drawing create fast and responsive neon games.
    </p>

    <!-- COMMENTS SECTION -->
    <div class="comments-section" style="margin-top:40px;">
      <h3 data-i18n="comments_title">ðŸ’¬ Comments</h3>

      <textarea id="commentInput"
                placeholder="Write a comment..."
                data-i18n-placeholder="comments_placeholder"
                style="width:100%;height:80px;margin-bottom:10px;"></textarea>

      <button id="postCommentBtn" data-i18n="comments_post_btn">
        Post Comment
      </button>

      <div id="commentsList" style="margin-top:20px;"></div>
    </div>

    <script>
    const ARTICLE_ID = "canvas-rendering-loops";
    const COMMENTS_API = "https://neon-comments.gabi-gabz.workers.dev";

    async function loadComments(){
      const r = await fetch(COMMENTS_API + "/" + ARTICLE_ID);
      const list = await r.json();
      const box = document.getElementById("commentsList");
      box.innerHTML = "";
      list.forEach(c=>{
        const d=document.createElement("div");
        d.style.marginBottom="12px";
        d.innerHTML =
          "<div style='padding:8px;background:#111;border-radius:6px;border:1px solid #333;'>" 
          + c.text + "</div>";
        box.appendChild(d);
      });
    }

    document.getElementById("postCommentBtn").addEventListener("click", async ()=>{
      const text = document.getElementById("commentInput").value.trim();
      if(!text) return;
      await fetch(COMMENTS_API + "/" + ARTICLE_ID,{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({text})
      });
      document.getElementById("commentInput").value="";
      loadComments();
    });

    loadComments();
    </script>

    <script src="js/translation.js?v=5"></script>

</body>
</html>