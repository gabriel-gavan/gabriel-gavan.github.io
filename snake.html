<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Neon Snake</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />

  <!-- ✅ AUTO ADS: keep ONLY this one AdSense loader -->
  <script async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5482914432517813"
    crossorigin="anonymous"></script>

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      background:
        linear-gradient(135deg, rgba(0,0,0,0.8), rgba(15,23,42,0.9)),
        url("images/hub-bg.jpg") center center / cover no-repeat fixed;
      color: #e5e7eb;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      min-height: 100vh;
    }

    .layout {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      padding: 16px 8px;
      gap: 12px;
    }

    .ad-vertical {
      width: 160px;
      min-height: 600px;
      border-radius: 12px;
      border: 1px dashed #1f2937;
      background: radial-gradient(circle at top, #020617 0, #020617 55%, #000 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      text-align: center;
      color: #6b7280;
      padding: 8px;
    }

    .main-column {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      flex: 0 0 auto;
      width: 100%;
      max-width: 960px;
    }

    .top-banner {
      width: 100%;
      max-width: 960px;
      height: 90px;
      border-radius: 12px;
      border: 1px dashed #1f2937;
      background: radial-gradient(circle at top, #020617 0, #020617 55%, #000 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      color: #6b7280;
      text-align: center;
      padding: 4px;
    }

    .game-header {
      width: 100%;
      max-width: 960px;
      padding: 0.55rem 1.0rem;
      border-radius: 12px;
      border: 1px solid #111827;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: linear-gradient(135deg, #020617 0, #111827 40%, #0b1120 100%);
      font-size: 0.9rem;
      gap: 0.8rem;
      flex-wrap: wrap;
    }
    .game-header .title { font-weight: 800; letter-spacing: 0.03em; }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .chip-link {
      color: #e5e7eb;
      text-decoration: none;
      font-size: 0.85rem;
      padding: 0.35rem 0.75rem;
      border-radius: 999px;
      border: 1px solid #374151;
      background: rgba(2,6,23,0.35);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
    }
    .chip-link:hover { border-color: #6366f1; }

    .chip-btn {
      appearance: none;
      border: 1px solid rgba(56,189,248,0.65);
      background: rgba(2,6,23,0.45);
      color: #e5e7eb;
      font-size: 0.85rem;
      font-weight: 900;
      padding: 0.35rem 0.75rem;
      border-radius: 999px;
      cursor: pointer;
    }
    .chip-btn:active { transform: translateY(1px); }

    .game-wrap { position: relative; width: 100%; max-width: 960px; }

    canvas {
      border-radius: 14px;
      border: 1px solid #4b5563;
      background: radial-gradient(circle at top, #020617 0, #020617 55%, #000 100%);
      box-shadow: 0 20px 50px rgba(0,0,0,0.8);
      width: 100%;
      height: auto;
      display: block;

      touch-action: none;
      user-select: none;
      -webkit-user-select: none;
    }

    .hint-bar {
      width: 100%;
      max-width: 960px;
      border-radius: 12px;
      border: 1px solid rgba(17,24,39,0.9);
      background: rgba(2,6,23,0.55);
      padding: 8px 10px;
      color: #9ca3af;
      font-size: 12px;
      display: flex;
      gap: 10px;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.25);
      background: rgba(2,6,23,0.35);
      color: #e5e7eb;
      font-weight: 800;
      font-size: 12px;
    }

    .btn {
      touch-action: none;
      user-select: none;
      -webkit-user-select: none;
      border: 1px solid rgba(148,163,184,0.35);
      background: rgba(2,6,23,0.65);
      color: #e5e7eb;
      font-weight: 900;
      letter-spacing: 0.02em;
      border-radius: 12px;
      padding: 10px 14px;
      box-shadow: 0 12px 26px rgba(0,0,0,0.55);
      opacity: 0.98;
      cursor: pointer;
    }
    .btn:active { transform: translateY(1px); opacity: 1; }
    .btn.restart { border-color: rgba(56,189,248,0.6); }
	/* PC-only SEO text container */
	.pc-only {
	  display: block;
	}

	/* Hide SEO text on mobile/tablet */
	@media (max-width: 900px) {
	  .pc-only {
		display: none !important;
	  }
	}
    @media (max-width: 900px) {
      .layout { padding: 8px; gap: 0; }
      .ad-vertical { display: none; }
      .top-banner { height: 60px; font-size: 11px; }
      .game-header { font-size: 0.85rem; padding: 0.5rem 0.7rem; }
      .chip-link, .chip-btn { font-size: 0.8rem; padding: 0.3rem 0.65rem; }
    }

    /* =========================
       MOBILE CONTROLS (below)
       ========================= */
    .controls-below {
      width: 100%;
      max-width: 960px;
      display: none;
      gap: 12px;
      align-items: center;
      justify-content: space-between;
      padding: 10px 6px 2px;
      pointer-events: auto;
    }
    @media (max-width: 900px) {
      .controls-below { display: flex; }
    }

    .dpad {
      width: 160px;
      height: 160px;
      border-radius: 18px;
      background: rgba(2,6,23,0.55);
      border: 1px solid rgba(148,163,184,0.35);
      box-shadow: 0 12px 28px rgba(0,0,0,0.55);
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      grid-template-rows: 1fr 1fr 1fr;
      gap: 8px;
      padding: 10px;
      touch-action: none;
      user-select: none;
      -webkit-user-select: none;
      flex: 0 0 auto;
    }

    .dpad button {
      border-radius: 14px;
      border: 1px solid rgba(148,163,184,0.35);
      background: rgba(2,6,23,0.65);
      color: #e5e7eb;
      font-weight: 900;
      box-shadow: 0 10px 20px rgba(0,0,0,0.45);
      font-size: 16px;
      cursor: pointer;
    }
    .dpad button:active { transform: translateY(1px); }
    .dpad .empty { opacity: 0; pointer-events: none; }

    .mc-actions {
      display: flex;
      gap: 10px;
      align-items: center;
      justify-content: flex-end;
      flex: 1 1 auto;
    }

    @media (max-width: 420px) {
      .dpad { width: 148px; height: 148px; }
      .btn { padding: 10px 12px; }
    }
  </style>
</head>

<body>
<div class="layout">
  <!-- LEFT BANNER -->
  <aside class="ad-vertical">
    <div>
      Left Banner Zone<br/>
      <strong>160×600</strong><br/>
      Paste your AdSense code here.
    </div>
  </aside>

  <!-- MAIN COLUMN -->
  <main class="main-column">
    <!-- TOP LEADERBOARD -->
    <div class="top-banner">
      Top Banner Zone – recommended 728×90 (auto also works).<br/>
      Paste your AdSense snippet here.
    </div>

    <!-- GAME HEADER -->
    <div class="game-header">
      <div class="title">Neon Snake</div>
      <div class="header-actions">
        <button class="chip-btn" id="btnRestartTop" type="button">↻ Restart</button>
        <a class="chip-link" href="index.html">⬅ Back to Hub</a>
      </div>
    </div>

    <!-- INFO BAR -->
    <div class="hint-bar">
      <div class="pill" id="scorePill">Score: 0 · Best: 0</div>
      <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
        <div style="color:#9ca3af" id="controlsHint"></div>
        <button class="btn restart" id="btnRestart" type="button">RESTART</button>
      </div>
    </div>

    <!-- GAME CANVAS -->
    <div class="game-wrap">
      <canvas id="gameCanvas" width="960" height="540"></canvas>
    </div>

    <!-- ✅ MOBILE CONTROLS BELOW THE GAME FRAME -->
    <div class="controls-below" id="controlsBelow" aria-hidden="true">
      <div class="dpad" aria-label="Move pad">
        <button class="empty" type="button"></button>
        <button id="btnUp" type="button">▲</button>
        <button class="empty" type="button"></button>

        <button id="btnLeft" type="button">◀</button>
        <button class="empty" type="button"></button>
        <button id="btnRight" type="button">▶</button>

        <button class="empty" type="button"></button>
        <button id="btnDown" type="button">▼</button>
        <button class="empty" type="button"></button>
      </div>

      <div class="mc-actions">
        <button class="btn restart" id="btnRestartMobile" type="button">RESTART</button>
      </div>
    </div>
	<div class="pc-only" style="max-width:1200px;margin:40px auto;padding:20px;color:#e5e7eb;font-size:12px;line-height:1.65;">
  
  <!-- PLACE THE LONG HTML CONTENT FOR THIS GAME HERE -->
  <!-- Example placeholder: -->
  <h1>Snake – Neon Classic Arcade Challenge</h1>

<p>
The iconic Snake game gets a neon makeover.
Control a glowing serpent through a minimal grid and consume energy dots to grow.
The larger you become, the harder the game gets — one mistake means game over.
</p>

  </main>

  <!-- RIGHT BANNER -->
  <aside class="ad-vertical">
    <div>
      Right Banner Zone<br/>
      <strong>160×600</strong><br/>
      Paste your AdSense code here.
    </div>
  </aside>
</div>

<script>
(() => {
  const canvas = document.getElementById("gameCanvas");
  const ctx = canvas.getContext("2d");
  const W = canvas.width;
  const H = canvas.height;

  // ---------- SAFE rounded rect (no ctx.roundRect dependency) ----------
  function roundedRectPath(x, y, w, h, r) {
    r = Math.max(0, Math.min(r, Math.min(w, h) / 2));
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
    ctx.lineTo(x + w, y + h - r);
    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    ctx.lineTo(x + r, y + h);
    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
  }

  const scorePill = document.getElementById("scorePill");
  const controlsHint = document.getElementById("controlsHint");

  const IS_MOBILE = (('ontouchstart' in window) || (navigator.maxTouchPoints > 0)) &&
                    window.matchMedia("(max-width: 900px)").matches;

  const controlsBelow = document.getElementById("controlsBelow");
  if (controlsBelow) controlsBelow.style.display = IS_MOBILE ? "flex" : "none";

  controlsHint.textContent = IS_MOBILE
    ? "Mobile: Swipe on the game OR use ▲▼◀▶ below."
    : "Desktop: Arrow keys / WASD. Space/Enter = Restart.";

  // ---------- Game settings ----------
  const CELL = 24;
  const COLS = Math.floor(W / CELL);
  const ROWS = Math.floor(H / CELL);

  const clamp = (v, a, b) => v < a ? a : v > b ? b : v;

  // ---------- State ----------
  let state = "menu"; // menu, playing, dead
  let snake = [];
  let dir = { x: 1, y: 0 };
  let nextDir = { x: 1, y: 0 };
  let food = { x: 10, y: 10 };
  let score = 0;
  let best = Number(localStorage.getItem("snake_best") || 0);
  let stepTime = 0.115;
  let acc = 0;

  function updateHUD() {
    scorePill.textContent = `Score: ${score} · Best: ${best}`;
  }

  function spawnFood() {
    const occupied = new Set(snake.map(s => `${s.x},${s.y}`));
    for (let i = 0; i < 8000; i++) {
      const x = (Math.random() * COLS) | 0;
      const y = (Math.random() * ROWS) | 0;
      if (!occupied.has(`${x},${y}`)) { food = { x, y }; return; }
    }
    food = { x: 1, y: 1 };
  }

  function reset() {
    const cx = (COLS / 2) | 0;
    const cy = (ROWS / 2) | 0;
    snake = [
      { x: cx - 2, y: cy },
      { x: cx - 1, y: cy },
      { x: cx,     y: cy }
    ];
    dir = { x: 1, y: 0 };
    nextDir = { x: 1, y: 0 };
    score = 0;
    stepTime = 0.115;
    acc = 0;
    spawnFood();
    state = "playing";
    updateHUD();
  }

  function setDir(nx, ny) {
    if (nx === -dir.x && ny === -dir.y) return; // no instant reverse
    nextDir = { x: nx, y: ny };
    if (state !== "playing") reset();
  }

  function die() {
    state = "dead";
    best = Math.max(best, score);
    localStorage.setItem("snake_best", String(best));
    updateHUD();
  }

  function step() {
    dir = nextDir;
    const head = snake[snake.length - 1];
    const nx = head.x + dir.x;
    const ny = head.y + dir.y;

    // walls
    if (nx < 0 || nx >= COLS || ny < 0 || ny >= ROWS) { die(); return; }

    // self collision (allow moving into tail if not eating)
    const isEating = (nx === food.x && ny === food.y);
    for (let i = 0; i < snake.length; i++) {
      const s = snake[i];
      const isTail = (i === 0);
      if (s.x === nx && s.y === ny) {
        if (!isTail || isEating) { die(); return; }
      }
    }

    snake.push({ x: nx, y: ny });

    if (isEating) {
      score += 10;
      best = Math.max(best, score);
      localStorage.setItem("snake_best", String(best));
      spawnFood();
      // speed up slightly
      stepTime = clamp(stepTime * 0.985, 0.06, 0.14);
      updateHUD();
    } else {
      snake.shift();
    }
  }

  // ---------- Inputs ----------
  window.addEventListener("keydown", (e) => {
    const k = e.key.toLowerCase();
    if (k === "arrowup" || k === "w") { e.preventDefault(); setDir(0, -1); }
    else if (k === "arrowdown" || k === "s") { e.preventDefault(); setDir(0, 1); }
    else if (k === "arrowleft" || k === "a") { e.preventDefault(); setDir(-1, 0); }
    else if (k === "arrowright" || k === "d") { e.preventDefault(); setDir(1, 0); }
    else if (k === " " || k === "enter") { e.preventDefault(); reset(); }
  });

  // Buttons
  const btnRestart = document.getElementById("btnRestart");
  const btnRestartMobile = document.getElementById("btnRestartMobile");
  const btnRestartTop = document.getElementById("btnRestartTop");
  [btnRestart, btnRestartMobile, btnRestartTop].forEach(b => {
    if (!b) return;
    b.addEventListener("click", (e) => { e.preventDefault(); reset(); });
  });

  // D-pad
  function bindPress(id, fn) {
    const el = document.getElementById(id);
    if (!el) return;
    el.addEventListener("pointerdown", (e) => {
      e.preventDefault();
      fn();
      el.setPointerCapture(e.pointerId);
    }, { passive: false });
  }
  bindPress("btnUp",   () => setDir(0, -1));
  bindPress("btnDown", () => setDir(0, 1));
  bindPress("btnLeft", () => setDir(-1, 0));
  bindPress("btnRight",() => setDir(1, 0));

  // Swipe on canvas (mobile)
  let swDown = false, sx = 0, sy = 0;
  canvas.addEventListener("pointerdown", (e) => {
    swDown = true;
    sx = e.clientX; sy = e.clientY;
    canvas.setPointerCapture(e.pointerId);
    e.preventDefault();
  }, { passive: false });

  canvas.addEventListener("pointerup", (e) => {
    if (!swDown) return;
    swDown = false;

    const dx = e.clientX - sx;
    const dy = e.clientY - sy;
    const adx = Math.abs(dx), ady = Math.abs(dy);

    // tap
    if (adx < 14 && ady < 14) {
      if (state !== "playing") reset();
      return;
    }

    if (adx > ady) setDir(dx > 0 ? 1 : -1, 0);
    else setDir(0, dy > 0 ? 1 : -1);

    e.preventDefault();
  }, { passive: false });

  canvas.addEventListener("pointercancel", () => { swDown = false; });

  // Also allow click to start
  canvas.addEventListener("click", () => {
    if (state !== "playing") reset();
  });

  // ---------- Drawing ----------
  function drawBackground() {
    const g = ctx.createLinearGradient(0, 0, 0, H);
    g.addColorStop(0, "#020617");
    g.addColorStop(1, "#000000");
    ctx.fillStyle = g;
    ctx.fillRect(0, 0, W, H);

    // subtle grid
    ctx.globalAlpha = 0.22;
    ctx.strokeStyle = "#0f172a";
    ctx.lineWidth = 1;
    for (let x = 0; x <= COLS; x++) {
      ctx.beginPath();
      ctx.moveTo(x * CELL + 0.5, 0);
      ctx.lineTo(x * CELL + 0.5, H);
      ctx.stroke();
    }
    for (let y = 0; y <= ROWS; y++) {
      ctx.beginPath();
      ctx.moveTo(0, y * CELL + 0.5);
      ctx.lineTo(W, y * CELL + 0.5);
      ctx.stroke();
    }
    ctx.globalAlpha = 1;
  }

  function drawFood() {
    const cx = food.x * CELL + CELL / 2;
    const cy = food.y * CELL + CELL / 2;

    const glow = ctx.createRadialGradient(cx, cy, 0, cx, cy, CELL * 1.0);
    glow.addColorStop(0, "rgba(129,140,248,0.95)");
    glow.addColorStop(1, "rgba(129,140,248,0)");
    ctx.fillStyle = glow;
    ctx.beginPath();
    ctx.arc(cx, cy, CELL * 1.0, 0, Math.PI * 2);
    ctx.fill();

    ctx.fillStyle = "#e5e7eb";
    ctx.beginPath();
    ctx.arc(cx, cy, CELL * 0.26, 0, Math.PI * 2);
    ctx.fill();
  }

  function drawSnake() {
    for (let i = 0; i < snake.length; i++) {
      const s = snake[i];
      const x = s.x * CELL;
      const y = s.y * CELL;
      const isHead = (i === snake.length - 1);

      const cx = x + CELL / 2;
      const cy = y + CELL / 2;
      const r = ctx.createRadialGradient(cx, cy, 0, cx, cy, CELL * 0.9);
      r.addColorStop(0, "rgba(56,189,248,0.25)");
      r.addColorStop(1, "rgba(56,189,248,0)");
      ctx.fillStyle = r;
      ctx.beginPath();
      ctx.arc(cx, cy, CELL * 0.9, 0, Math.PI * 2);
      ctx.fill();

      ctx.fillStyle = isHead ? "#38bdf8" : "#0f172a";
      ctx.strokeStyle = isHead ? "#e5e7eb" : "#38bdf8";
      ctx.lineWidth = 2;

      roundedRectPath(x + 3, y + 3, CELL - 6, CELL - 6, 8);
      ctx.fill();
      ctx.stroke();
    }

    // eyes
    const head = snake[snake.length - 1];
    const hx = head.x * CELL;
    const hy = head.y * CELL;
    const ex = hx + CELL / 2 + (dir.x * 4);
    const ey = hy + CELL / 2 + (dir.y * 4);

    ctx.fillStyle = "#020617";
    ctx.beginPath();
    ctx.arc(ex - dir.y * 5, ey + dir.x * 5, 2.4, 0, Math.PI * 2);
    ctx.arc(ex + dir.y * 5, ey - dir.x * 5, 2.4, 0, Math.PI * 2);
    ctx.fill();
  }

  function drawPanel(title, subtitle, hint) {
    const panelW = 520;
    const panelH = 210;
    const x = (W - panelW) / 2;
    const y = (H - panelH) / 2;

    // backdrop fade
    ctx.fillStyle = "rgba(2,6,23,0.65)";
    ctx.fillRect(0, 0, W, H);

    // panel
    ctx.fillStyle = "rgba(15,23,42,0.92)";
    ctx.strokeStyle = "rgba(148,163,184,0.25)";
    ctx.lineWidth = 2;
    roundedRectPath(x, y, panelW, panelH, 16);
    ctx.fill();
    ctx.stroke();

    // accent line
    ctx.strokeStyle = "rgba(56,189,248,0.55)";
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(x + 18, y + 18);
    ctx.lineTo(x + panelW - 18, y + 18);
    ctx.stroke();

    ctx.textAlign = "center";
    ctx.textBaseline = "middle";

    ctx.fillStyle = "#e5e7eb";
    ctx.font = "32px system-ui";
    ctx.fillText(title, W / 2, y + 70);

    ctx.fillStyle = "#cbd5e1";
    ctx.font = "15px system-ui";
    ctx.fillText(subtitle, W / 2, y + 110);

    ctx.fillStyle = "#9ca3af";
    ctx.font = "13px system-ui";
    ctx.fillText(hint, W / 2, y + 150);

    ctx.fillStyle = "rgba(56,189,248,0.18)";
    ctx.strokeStyle = "rgba(56,189,248,0.35)";
    ctx.lineWidth = 1;
    roundedRectPath(W / 2 - 120, y + 168, 240, 34, 12);
    ctx.fill(); ctx.stroke();

    ctx.fillStyle = "#e5e7eb";
    ctx.font = "13px system-ui";
    ctx.fillText("Tap / Click to Start · Restart button available", W / 2, y + 185);
  }

  function drawOverlay() {
    if (state === "menu") {
      drawPanel(
        "NEON SNAKE",
        "Eat the orb. Don’t hit walls or yourself.",
        IS_MOBILE ? "Swipe on the game OR use ▲▼◀▶ below." : "Use Arrow Keys / WASD to move."
      );
    } else if (state === "dead") {
      drawPanel(
        "SNAKE DOWN",
        `Score: ${score} · Best: ${best}`,
        IS_MOBILE ? "Tap to restart or press RESTART." : "Press SPACE/ENTER or click RESTART."
      );
    }
  }

  // ---------- Loop ----------
  let last = performance.now();
  function loop(t) {
    const dt = Math.min(0.05, (t - last) / 1000);
    last = t;

    if (state === "playing") {
      acc += dt;
      while (acc >= stepTime) {
        acc -= stepTime;
        step();
        if (state !== "playing") break;
      }
    }

    drawBackground();
    if (state === "playing" || state === "dead") {
      drawFood();
      drawSnake();
    } else {
      // in menu, still show a faint “demo” position
      if (snake.length === 0) {
        snake = [{x: 12, y: 11},{x: 13, y: 11},{x: 14, y: 11}];
        dir = {x:1,y:0}; nextDir = {x:1,y:0};
        food = {x: 18, y: 11};
      }
      drawFood();
      drawSnake();
    }

    drawOverlay();
    requestAnimationFrame(loop);
  }

  // init
  updateHUD();
  requestAnimationFrame(loop);
})();
</script>

<script src="footer.js"></script>
</body>
</html>
